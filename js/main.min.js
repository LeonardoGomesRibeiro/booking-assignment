function HotelViewModel(){self=this;self.rooms=ko.observableArray([{name:"Basic 2 Bed",occupancy:2,price:88.99},{name:"Basic Family Room",occupancy:4,price:98.99},{name:"Deluxe 2 Bed",occupancy:2,price:109.99},{name:"Deluxe Family Room",occupancy:7,price:112.99},{name:"Deluxe 2 Bed",occupancy:2,price:109.99},{name:"Bridal Suite",occupancy:2,price:167.99},{name:"President Suite",occupancy:2,price:301.99},{name:"One+One",occupancy:2,price:78.99},{name:"Single Room",occupancy:1,price:28.99},{name:"Queen Room",occupancy:2,price:99.99},{name:"Basement 1 Bed",occupancy:1,price:9.99},{name:"Mega XL Suite",occupancy:9,price:412.99}]);document.getElementById("asc-occupancy").addEvent("click",function(e){e.preventDefault();self.rooms(HotelApp.sorting.asc(self.rooms(),"occupancy"))});document.getElementById("desc-occupancy").addEvent("click",function(e){e.preventDefault();self.rooms(HotelApp.sorting.desc(self.rooms(),"occupancy"))});document.getElementById("asc-price").addEvent("click",function(e){e.preventDefault();self.rooms(HotelApp.sorting.asc(self.rooms(),"price"))});document.getElementById("desc-price").addEvent("click",function(e){e.preventDefault();self.rooms(HotelApp.sorting.desc(self.rooms(),"price"))});self.hotels=ko.observableArray([]);HotelApp.ajax("GET",baseURL+"/data/hotels.json",function(e){e=JSON.parse(e);var t=e.Hotels.length;for(var n=0;n<t;n++){var r=e.Hotels[n].stars;e.Hotels[n].starsString="";for(var i=0;i<r;i++){e.Hotels[n].starsString+="â˜…"}self.hotels.push(e.Hotels[n])}});self.reviews=ko.observableArray([]);HotelApp.ajax("GET",baseURL+"/data/reviews.json",function(e){e=JSON.parse(e);var t=e.Reviews.length;for(var n=0;n<t;n++){self.reviews.push(e.Reviews[n])}HotelApp.pages.init(document.querySelectorAll(".one_review"));document.getElementById("asc-reviews").addEvent("click",function(e){e.preventDefault();self.reviews(HotelApp.sorting.asc(self.reviews(),"points"));HotelApp.pages.reset(document.querySelectorAll(".one_review"))});document.getElementById("desc-reviews").addEvent("click",function(e){e.preventDefault();self.reviews(HotelApp.sorting.desc(self.reviews(),"points"));HotelApp.pages.reset(document.querySelectorAll(".one_review"))})});self.landmarks=ko.observableArray([]);HotelApp.ajax("GET",baseURL+"/data/landmarks.json",function(e){e=JSON.parse(e);var t=e.Landmarks.length;for(var n=0;n<t;n++){self.landmarks.push(e.Landmarks[n])}})}(function(){var e=0;var t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n){window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(t,n){var r=(new Date).getTime();var i=Math.max(0,16-(r-e));var s=window.setTimeout(function(){t(r+i)},i);e=r+i;return s};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(e){clearTimeout(e)}})();(function(){"use strict";var e=typeof HTMLElement!=="undefined"?HTMLElement:Element;var t=function(e){return e.getAttribute("class").split(/\s/)};var n=function(e){var t="";for(var n=0;n<e.length;n++){t+=e[n];if(n!=e.length-1)t+=" "}return t};var r=function(e,n){var r=t(e);var i=false;for(var s=0;s<r.length;s++){if(r[s]==n)i=true}return i};var i=function(e,t){if(!r(e,t)){var n=e.getAttribute("class")+" "+t;e.setAttribute("class",n)}};var s=function(e,i){if(r(e,i)){var s=t(e);for(var o=0;o<s.length;o++){if(s[o]==i){s.splice(o,1)}}e.setAttribute("class",n(s))}};var o=function(e,t){r(e,t)?s(e,t):i(e,t)};if(document.documentElement.classList){e.prototype.hasClass=function(e){return this.classList.contains(e)};e.prototype.addClass=function(e){this.classList.add(e)};e.prototype.removeClass=function(e){this.classList.remove(e)};e.prototype.toggleClass=function(e){this.classList.toggle(e)}}else{e.prototype.hasClass=function(e){return r(this,e)};e.prototype.addClass=function(e){i(this,e)};e.prototype.removeClass=function(e){s(this,e)};e.prototype.toggleClass=function(e){o(this,e)}}})();(function(){"use strict";var e=typeof HTMLElement!=="undefined"?HTMLElement:Element;if(document.documentElement.addEventListener){e.prototype.addEvent=function(e,t){this.addEventListener(e,t,false)};e.prototype.removeEvent=function(e,t){this.removeEventListener(e,t,false)}}else{if(!Event.prototype.preventDefault){Event.prototype.preventDefault=function(){this.returnValue=false}}if(!Event.prototype.stopPropagation){Event.prototype.stopPropagation=function(){this.cancelBubble=true}}e.prototype.addEvent=function(e,t){this.attachEvent("on"+e,t)};e.prototype.removeEvent=function(e,t){this.detachEvent("on"+e,t)}}})();var HotelApp=HotelApp||{};(function(e,t){HotelApp.sorting=function(){var e=function(e,t){e.sort(function(e,n){var e=e[t];var n=n[t];if(e<n)return 1;if(e>n)return-1;return 0});return e};var t=function(e,t){e.sort(function(e,n){var e=e[t];var n=n[t];if(e>n)return 1;if(e<n)return-1;return 0});return e};return{asc:e,desc:t}}()})(document,undefined);(function(e,t){HotelApp.carousel=function(){var e=0,t=0,n=500,r,i,s,o,u;var a=function(t){if(t){r=t;i=f(r);s=i.length;o=l(r);u=o.length;r.querySelector("#next").addEvent("click",function(t){t.preventDefault();e=0;c()});r.querySelector("#prev").addEvent("click",function(t){t.preventDefault();e=0;h()});for(var n=0;n<u;n++){o[n].addEvent("click",function(e){e.preventDefault();var t=parseInt(e.currentTarget.getAttribute("data-carousel-thumb"));p(t)})}d()}};var f=function(e){return e.querySelectorAll(".carousel-images li")};var l=function(e){return e.querySelectorAll(".carousel-thumbs li a")};var c=function(){i[t].removeClass("active");o[t].removeClass("active");t++;if(t==s){t=0}i[t].addClass("active");o[t].addClass("active")};var h=function(){i[t].removeClass("active");o[t].removeClass("active");t--;if(t<0){t=s-1}i[t].addClass("active");o[t].addClass("active")};var p=function(n){i[t].removeClass("active");o[t].removeClass("active");t=n;e=0;i[t].addClass("active");o[t].addClass("active")};var d=function(){var t=function(){if(e==n){e=0;c()}else{e++}requestAnimationFrame(t)};t()};return{init:a}}();HotelApp.pages=function(){var t,n,r,i=0,s=5;var o=function(i){t=i;n=t.length;r=Math.ceil(n/s)-1;for(var o=0;o<s;o++){t[o].style.display="block"}e.getElementById("next-page").addEvent("click",function(e){e.preventDefault();u()});e.getElementById("prev-page").addEvent("click",function(e){e.preventDefault();a()})};var u=function(){if(r!=i){i++;var e=i*s;var o=(i+1)*s;for(var u=0;u<n;u++){if(u>=e&&u<o){t[u].style.display="block"}else{t[u].style.display="none"}}}c()};var a=function(){if(i>0){i--;var e=i*s;var r=(i+1)*s;for(var o=0;o<n;o++){if(o>=e&&o<r){t[o].style.display="block"}else{t[o].style.display="none"}}}c()};var f=function(e){l(e);i=0;for(var r=0;r<n;r++){if(r<5){t[r].style.display="block"}else{t[r].style.display="none"}}c()};var l=function(e){t=e};var c=function(){if(i==0){e.getElementById("prev-page").addClass("disabled");e.getElementById("next-page").removeClass("disabled")}else if(i==r){e.getElementById("next-page").addClass("disabled")}else{e.getElementById("prev-page").removeClass("disabled");e.getElementById("next-page").removeClass("disabled")}};return{init:o,reset:f}}();HotelApp.ajax=function(e,t,n){var r,i;if(window.XMLHttpRequest){r=new XMLHttpRequest}else if(window.ActiveXObject){r=new ActiveXObject("Microsoft.XMLHTTP")}r.onreadystatechange=function(){if(r.readyState==4){i=r.responseText;if(typeof n=="function"){n(i)}}};r.open("GET",t,true);r.send(null)}})(document,undefined);var getDomain=function(){var e=window.location.href.split("/");e.splice(e.length-1);return e.join("/")};baseURL=getDomain();ko.applyBindings(new HotelViewModel);window.onload=function(){var e=document.getElementById("carousel");HotelApp.carousel.init(e);var t=document.querySelectorAll(".room-select");var n=t.length;var r=document.querySelectorAll(".room_price span");var i=document.querySelectorAll(".room_subtotal span");for(var s=0;s<n;s++){t[s].index=s;t[s].addEvent("change",function(e){var t=parseFloat(r[e.currentTarget.index].innerHTML)*parseFloat(e.currentTarget.value);i[e.currentTarget.index].innerHTML=t.toFixed(2)})}}